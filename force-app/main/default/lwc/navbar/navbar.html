<template>
    <header class="header">
        <nav class="navbar">
            <a href="#" class="brand">TimeSheet Pro</a>
            <div class="nav-left">
                <button class="nav-btn active" onclick={gotoHome}>Dashboard</button>
                <button if:true={punchedIn} class="nav-btn" id="punchInBtn" onclick={openPunchForm}>Punch In</button>
                <button if:true={punchedOut} class="nav-btn" id="punchOutBtn" onclick={punchOutUser}>Punch Out</button>
            </div>
            <div class="user-menu">
                <button class="user-btn" onclick={toggleUserDropdown}>
                    Aman Rehman
                </button>
                <div class="dropdown-menu" id="userDropdown" if:true={userDropdown}>
                    <div class="dropdown-item" onclick={gotoProfile}>Profile</div>
                    <div class="dropdown-item" onclick={gotoReport}>Reports</div>
                    <div class="dropdown-item" onclick={logOutUser}>Logout</div>
                </div>
            </div>
        </nav>
    </header>

    <div class="modal" id="punchModal" if:true={showPunchModal}>
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="punchModalTitle">Punch In</h3>
                <button class="modal-close" onclick={closeModal}>&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group" id="workLocationGroup">
                    <label class="form-label">Select Work Location</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" name="workingMode" value="Work from Home" id="workHome" onchange={handleOptionChange}>
                            <label for="workHome">Work from Home</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" name="workingMode" value="Work from Office" id="workOffice" onchange={handleOptionChange}>
                            <label for="workOffice">Work from Office</label>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick={closeModal}>Cancel</button>
                <button class="btn btn-primary" onclick={punchInUser}>
                    <span id="punchActionText">Punch In</span>
                </button>
            </div>
        </div>
    </div>
</template>
